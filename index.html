<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>We’re Still Marching — AR Test</title>

  <!-- A-Frame (same version that works for your friend) -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <!-- AR.js for A-Frame -->
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

  <style>
    /* reset + no scroll */
    html, body { margin:0; height:100%; overflow:hidden; background:#000; font-family:Arial, sans-serif; }

    /* make the camera video truly full-screen behind the canvas */
    #arjs-video, video#arjs-video, video[playsinline] {
      position: fixed !important;
      inset: 0 !important;                 /* fills all sides (fixes right-side line) */
      width: 100% !important;
      height: 100% !important;
      object-fit: cover !important;        /* cover the whole screen */
      z-index: 0 !important;
      background: #000;
    }

    /* keep the WebGL canvas on top and transparent */
    a-scene, .a-canvas, canvas {
      position: fixed !important;
      inset: 0 !important;
      width: 100% !important;
      height: 100% !important;
      background: transparent !important;
      z-index: 1 !important;
    }

    .ui {
      position: absolute; top: 12px; left: 12px; z-index: 2;
      background: rgba(255,255,255,0.9); padding:8px 10px; border-radius:6px;
      font-size:14px; color:#111;
    }
  </style>
</head>
<body>
  <div class="ui">
    1) Allow camera access<br>
    2) Point at printed <b>Hiro</b> marker<br>
    3) You should see the character floating above the marker
  </div>

  <a-scene
    embedded
    vr-mode-ui="enabled:false"
    renderer="alpha:true; antialias:true"
    arjs="sourceType: webcam; debugUIEnabled:false">

    <!-- HIRO marker -->
    <a-marker preset="hiro" emitevents="true">

      <!-- OPTION A: GIF (shows as a static image on some phones; okay for now) -->
      <a-image
        src="url(assets/thembeka.gif)"
        rotation="-180 0 0"
        position="0 0.10 0"       <!-- hover 35 cm above marker -->
        width="5.8" height="7.4"  <!-- bigger footprint -->
        ></a-image>

      <!-- OPTION B: MP4 video (uncomment when you have thembeka.mp4) -->
      <!--
      <a-assets>
        <video id="thembekaVideo" src="assets/thembeka.mp4" loop playsinline webkit-playsinline muted></video>
      </a-assets>
      <a-video
        src="#thembekaVideo"
        rotation="-90 0 0"
        position="0 0.35 0"
        width="1.8" height="2.4"
        ></a-video>
      -->

      <!-- lights (harmless for 2D, useful if you add 3D later) -->
      <a-entity light="type: ambient; intensity: 1"></a-entity>
      <a-entity light="type: directional; intensity: 0.6" position="1 2 1"></a-entity>
    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>

  <script>
    // safety: if AR.js injects the video late, re-apply styles
    (function ensureCamVisible(){
      function styleCam(v){
        if(!v) return;
        v.id = 'arjs-video';
        Object.assign(v.style, {
          position:'fixed', inset:'0', width:'100%', height:'100%',
          objectFit:'cover', zIndex:'0', background:'#000'
        });
        v.setAttribute('playsinline',''); v.setAttribute('webkit-playsinline','');
        v.muted = true;
      }
      styleCam(document.querySelector('#arjs-video'));
      setTimeout(()=>styleCam(document.querySelector('#arjs-video')), 800);
    })();
  </script>
</body>
</html>


